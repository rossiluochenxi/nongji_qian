{"remainingRequest":"D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\src\\views\\drawMixin.js","dependencies":[{"path":"D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\src\\views\\drawMixin.js","mtime":1713257112696},{"path":"D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\babel.config.js","mtime":1710675411407},{"path":"D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710867555791},{"path":"D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1710867556608},{"path":"D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1710867612663}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyIpOwovLyDlsY/luZXpgILphY0gbWl4aW4g5Ye95pWwCgovLyAqIOm7mOiupOe8qeaUvuWAvAp2YXIgc2NhbGUgPSB7CiAgd2lkdGg6ICcxJywKICBoZWlnaHQ6ICcxJwp9OwoKLy8gKiDorr7orqHnqL/lsLrlr7jvvIhweO+8iQp2YXIgYmFzZVdpZHRoID0gMTkyMDsKdmFyIGJhc2VIZWlnaHQgPSAxMDgwOwoKLy8gKiDpnIDkv53mjIHnmoTmr5TkvovvvIjpu5jorqQxLjc3Nzc477yJCnZhciBiYXNlUHJvcG9ydGlvbiA9IHBhcnNlRmxvYXQoKGJhc2VXaWR0aCAvIGJhc2VIZWlnaHQpLnRvRml4ZWQoNSkpOwp2YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vICog5a6a5pe25Ye95pWwCiAgICAgIGRyYXdUaW1pbmc6IG51bGwKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy/ov5vlhaXop6blj5EKICAgIHRoaXMuY2FsY1JhdGUoKTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZSk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNhbGNSYXRlOiBmdW5jdGlvbiBjYWxjUmF0ZSgpIHsKICAgICAgLy/mi7/liLDmlbTkuKrpobXpnaLlhYPntKAKICAgICAgdmFyIGFwcFJlZiA9IHRoaXMuJHJlZnNbImFwcFJlZiJdOwogICAgICBjb25zb2xlLmxvZygi5qC55YWD57Sg77yaIiwgYXBwUmVmKTsKICAgICAgLy/lpoLmnpzmsqHmnInlgLzlsLHnu5PmnZ8KICAgICAgaWYgKCFhcHBSZWYpIHJldHVybjsKICAgICAgLy8g5b2T5YmN5a696auY5q+UCiAgICAgIHZhciBjdXJyZW50UmF0ZSA9IHBhcnNlRmxvYXQoKHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0KS50b0ZpeGVkKDUpKTsKICAgICAgLy/liKTmlq3vvJrlpoLmnpzmnInlgLzku6PooajpobXpnaLlj5jljJbkuoYKICAgICAgaWYgKGFwcFJlZikgewogICAgICAgIC8v5Yik5pat5b2T5YmN5a696auY5q+U5L6L5piv5ZCm5aSn5LqO6buY6K6k5q+U5L6LCiAgICAgICAgaWYgKGN1cnJlbnRSYXRlID4gYmFzZVByb3BvcnRpb24pIHsKICAgICAgICAgIC8vIOWmguaenOWkp+S6juS7o+ihqOabtOWuveS6hu+8jOWwseaYr+aUvuWkp+S6hgogICAgICAgICAgLy/pgqPkuYjmiorpu5jorqTnvKnmlL7nmoTlrr3pq5jmlLnkuLrvvJrlkIzmr5TkvovmlL7lpKcKICAgICAgICAgIHNjYWxlLndpZHRoID0gKHdpbmRvdy5pbm5lckhlaWdodCAqIGJhc2VQcm9wb3J0aW9uIC8gYmFzZVdpZHRoKS50b0ZpeGVkKDUpOwogICAgICAgICAgc2NhbGUuaGVpZ2h0ID0gKHdpbmRvdy5pbm5lckhlaWdodCAvIGJhc2VIZWlnaHQpLnRvRml4ZWQoNSk7CiAgICAgICAgICBjb25zb2xlLmxvZyhzY2FsZS53aWR0aCwgc2NhbGUuaGVpZ2h0LCAn5pS+5aSnJyk7CiAgICAgICAgICAvL+aVtOS4qumhtemdoueahOWFg+e0oOagt+W8j++8jOe8qeaUvuWuvemrmOeUqOW9k+WJjeWQjOavlOS+i+aUvuWkp+eahOWuvemrmAogICAgICAgICAgYXBwUmVmLnN0eWxlLnRyYW5zZm9ybSA9ICJzY2FsZSgiLmNvbmNhdChzY2FsZS53aWR0aCwgIiwgIikuY29uY2F0KHNjYWxlLmhlaWdodCwgIikgdHJhbnNsYXRlKC01MCUsIC01MCUpIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOWmguaenOS4jeWkp+S6jum7mOiupOavlOS+i+S7o+ihqOe8qeWwj+S6huOAggogICAgICAgICAgLy/pgqPkuYjmiorpu5jorqTnvKnmlL7nmoTlrr3pq5jmlLnkuLrvvJrlkIzmr5TkvovnvKnlsI8KICAgICAgICAgIHNjYWxlLmhlaWdodCA9ICh3aW5kb3cuaW5uZXJXaWR0aCAvIGJhc2VQcm9wb3J0aW9uIC8gYmFzZUhlaWdodCkudG9GaXhlZCg1KTsKICAgICAgICAgIHNjYWxlLndpZHRoID0gKHdpbmRvdy5pbm5lcldpZHRoIC8gYmFzZVdpZHRoKS50b0ZpeGVkKDUpOwogICAgICAgICAgY29uc29sZS5sb2coc2NhbGUud2lkdGgsIHNjYWxlLmhlaWdodCwgJ+e8qeWwjycpOwogICAgICAgICAgLy/mlbTkuKrpobXpnaLnmoTlhYPntKDmoLflvI/vvIznvKnmlL7lrr3pq5jnlKjlvZPliY3lkIzmr5TkvovmlL7lpKfnmoTlrr3pq5gKICAgICAgICAgIGFwcFJlZi5zdHlsZS50cmFuc2Zvcm0gPSAic2NhbGUoIi5jb25jYXQoc2NhbGUud2lkdGgsICIsICIpLmNvbmNhdChzY2FsZS5oZWlnaHQsICIpIHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSIpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHJlc2l6ZTogZnVuY3Rpb24gcmVzaXplKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBjbGVhclRpbWVvdXQodGhpcy5kcmF3VGltaW5nKTsKICAgICAgdGhpcy5kcmF3VGltaW5nID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuY2FsY1JhdGUoKTsKICAgICAgfSwgMjAwKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["scale","width","height","baseWidth","baseHeight","baseProportion","parseFloat","toFixed","_default","exports","default","data","drawTiming","mounted","calcRate","window","addEventListener","resize","beforeDestroy","removeEventListener","methods","appRef","$refs","console","log","currentRate","innerWidth","innerHeight","style","transform","concat","_this","clearTimeout","setTimeout"],"sources":["D:/taoserver/platform/taoyuan_qian/ruoyi-ui/src/views/drawMixin.js"],"sourcesContent":["// 屏幕适配 mixin 函数\r\n\r\n// * 默认缩放值\r\nconst scale = {\r\n  width: '1',\r\n  height: '1',\r\n}\r\n\r\n// * 设计稿尺寸（px）\r\nconst baseWidth = 1920\r\nconst baseHeight = 1080\r\n\r\n// * 需保持的比例（默认1.77778）\r\nconst baseProportion = parseFloat((baseWidth / baseHeight).toFixed(5))\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      // * 定时函数\r\n      drawTiming: null\r\n    }\r\n  },\r\n  mounted () {\r\n    //进入触发\r\n    this.calcRate()\r\n    window.addEventListener('resize', this.resize)\r\n  },\r\n  beforeDestroy () {\r\n    window.removeEventListener('resize', this.resize)\r\n  },\r\n  methods: {\r\n    calcRate () {\r\n      //拿到整个页面元素\r\n      const appRef = this.$refs[\"appRef\"]\r\n      console.log(\"根元素：\", appRef);\r\n      //如果没有值就结束\r\n      if (!appRef) return \r\n      // 当前宽高比\r\n      const currentRate = parseFloat((window.innerWidth / window.innerHeight).toFixed(5))\r\n      //判断：如果有值代表页面变化了\r\n      if (appRef) {\r\n        //判断当前宽高比例是否大于默认比例\r\n        if (currentRate > baseProportion) {\r\n          // 如果大于代表更宽了，就是放大了\r\n          //那么把默认缩放的宽高改为：同比例放大\r\n          scale.width = ((window.innerHeight * baseProportion) / baseWidth).toFixed(5)\r\n          scale.height = (window.innerHeight / baseHeight).toFixed(5)\r\n          console.log(scale.width,scale.height,'放大');\r\n          //整个页面的元素样式，缩放宽高用当前同比例放大的宽高\r\n          appRef.style.transform = `scale(${scale.width}, ${scale.height}) translate(-50%, -50%)`\r\n        } else {\r\n          // 如果不大于默认比例代表缩小了。\r\n          //那么把默认缩放的宽高改为：同比例缩小\r\n          scale.height = ((window.innerWidth / baseProportion) / baseHeight).toFixed(5)\r\n          scale.width = (window.innerWidth / baseWidth).toFixed(5)\r\n          console.log(scale.width,scale.height,'缩小');\r\n          //整个页面的元素样式，缩放宽高用当前同比例放大的宽高\r\n          appRef.style.transform = `scale(${scale.width}, ${scale.height}) translate(-50%, -50%)`\r\n        }\r\n      }\r\n    },\r\n    resize () {\r\n      clearTimeout(this.drawTiming)\r\n      this.drawTiming = setTimeout(() => {\r\n        this.calcRate()\r\n      }, 200)\r\n    }\r\n  },\r\n}\r\n"],"mappings":";;;;;;;;AAAA;;AAEA;AACA,IAAMA,KAAK,GAAG;EACZC,KAAK,EAAE,GAAG;EACVC,MAAM,EAAE;AACV,CAAC;;AAED;AACA,IAAMC,SAAS,GAAG,IAAI;AACtB,IAAMC,UAAU,GAAG,IAAI;;AAEvB;AACA,IAAMC,cAAc,GAAGC,UAAU,CAAC,CAACH,SAAS,GAAGC,UAAU,EAAEG,OAAO,CAAC,CAAC,CAAC,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEvD;EACbC,IAAI,WAAAA,KAAA,EAAG;IACL,OAAO;MACL;MACAC,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EACDC,OAAO,WAAAA,QAAA,EAAI;IACT;IACA,IAAI,CAACC,QAAQ,CAAC,CAAC;IACfC,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACC,MAAM,CAAC;EAChD,CAAC;EACDC,aAAa,WAAAA,cAAA,EAAI;IACfH,MAAM,CAACI,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAACF,MAAM,CAAC;EACnD,CAAC;EACDG,OAAO,EAAE;IACPN,QAAQ,WAAAA,SAAA,EAAI;MACV;MACA,IAAMO,MAAM,GAAG,IAAI,CAACC,KAAK,CAAC,QAAQ,CAAC;MACnCC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEH,MAAM,CAAC;MAC3B;MACA,IAAI,CAACA,MAAM,EAAE;MACb;MACA,IAAMI,WAAW,GAAGnB,UAAU,CAAC,CAACS,MAAM,CAACW,UAAU,GAAGX,MAAM,CAACY,WAAW,EAAEpB,OAAO,CAAC,CAAC,CAAC,CAAC;MACnF;MACA,IAAIc,MAAM,EAAE;QACV;QACA,IAAII,WAAW,GAAGpB,cAAc,EAAE;UAChC;UACA;UACAL,KAAK,CAACC,KAAK,GAAG,CAAEc,MAAM,CAACY,WAAW,GAAGtB,cAAc,GAAIF,SAAS,EAAEI,OAAO,CAAC,CAAC,CAAC;UAC5EP,KAAK,CAACE,MAAM,GAAG,CAACa,MAAM,CAACY,WAAW,GAAGvB,UAAU,EAAEG,OAAO,CAAC,CAAC,CAAC;UAC3DgB,OAAO,CAACC,GAAG,CAACxB,KAAK,CAACC,KAAK,EAACD,KAAK,CAACE,MAAM,EAAC,IAAI,CAAC;UAC1C;UACAmB,MAAM,CAACO,KAAK,CAACC,SAAS,YAAAC,MAAA,CAAY9B,KAAK,CAACC,KAAK,QAAA6B,MAAA,CAAK9B,KAAK,CAACE,MAAM,4BAAyB;QACzF,CAAC,MAAM;UACL;UACA;UACAF,KAAK,CAACE,MAAM,GAAG,CAAEa,MAAM,CAACW,UAAU,GAAGrB,cAAc,GAAID,UAAU,EAAEG,OAAO,CAAC,CAAC,CAAC;UAC7EP,KAAK,CAACC,KAAK,GAAG,CAACc,MAAM,CAACW,UAAU,GAAGvB,SAAS,EAAEI,OAAO,CAAC,CAAC,CAAC;UACxDgB,OAAO,CAACC,GAAG,CAACxB,KAAK,CAACC,KAAK,EAACD,KAAK,CAACE,MAAM,EAAC,IAAI,CAAC;UAC1C;UACAmB,MAAM,CAACO,KAAK,CAACC,SAAS,YAAAC,MAAA,CAAY9B,KAAK,CAACC,KAAK,QAAA6B,MAAA,CAAK9B,KAAK,CAACE,MAAM,4BAAyB;QACzF;MACF;IACF,CAAC;IACDe,MAAM,WAAAA,OAAA,EAAI;MAAA,IAAAc,KAAA;MACRC,YAAY,CAAC,IAAI,CAACpB,UAAU,CAAC;MAC7B,IAAI,CAACA,UAAU,GAAGqB,UAAU,CAAC,YAAM;QACjCF,KAAI,CAACjB,QAAQ,CAAC,CAAC;MACjB,CAAC,EAAE,GAAG,CAAC;IACT;EACF;AACF,CAAC","ignoreList":[]}]}