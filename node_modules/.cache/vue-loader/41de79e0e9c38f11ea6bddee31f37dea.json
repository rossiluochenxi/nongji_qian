{"remainingRequest":"D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\src\\views\\agro\\livestock\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\src\\views\\agro\\livestock\\index.vue","mtime":1711011672758},{"path":"D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710867555791},{"path":"D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1710867556608},{"path":"D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710867555791},{"path":"D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1710867531387}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBsaXN0TGl2ZXN0b2NrLCBnZXRMaXZlc3RvY2ssIGRlbExpdmVzdG9jaywgYWRkTGl2ZXN0b2NrLCB1cGRhdGVMaXZlc3RvY2sgfSBmcm9tICJAL2FwaS9hZ3JvL2xpdmVzdG9jayI7DQppbXBvcnQgeyBsaXN0VXNlcn0gZnJvbSAiQC9hcGkvYWdyby91c2VyIjsNCmltcG9ydCB7IGxpc3RMaXZlc3RvY2tUeXBlfSBmcm9tICJAL2FwaS9hZ3JvL2xpdmVzdG9ja1R5cGUiOw0KaW1wb3J0IHsgbGlzdExpdmVzdG9ja1ZhcmlldGllc30gZnJvbSAiQC9hcGkvYWdyby9saXZlc3RvY2tWYXJpZXRpZXMiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJMaXZlc3RvY2siLA0KICBkaWN0czogWydhZ3JvX2xpdmVzdG9ja192YXJpZXRpZXMnLCAnYWdyb19saXZlc3RvY2tfdHlwZScsICdhZ3JvX2lzX2luc3VyZSddLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvL+eJsueVnOWTgeenjembhuWQiA0KICAgICAgbGl2ZXN0b2NrVmFyaWV0aWVzTGlzdDpbXSwNCg0KICAgICAgLy/nibLnlZznsbvlnovpm4blkIgNCiAgICAgIGxpdmVzdG9ja1R5cGVMaXN0OltdLA0KICAgICAgdXNlckxpc3Q6IFtdLA0KICAgICAgLy8g6YGu572p5bGCDQogICAgICBsb2FkaW5nOiB0cnVlLA0KICAgICAgLy8g6YCJ5Lit5pWw57uEDQogICAgICBpZHM6IFtdLA0KICAgICAgLy8g6Z2e5Y2V5Liq56aB55SoDQogICAgICBzaW5nbGU6IHRydWUsDQogICAgICAvLyDpnZ7lpJrkuKrnpoHnlKgNCiAgICAgIG11bHRpcGxlOiB0cnVlLA0KICAgICAgLy8g5pi+56S65pCc57Si5p2h5Lu2DQogICAgICBzaG93U2VhcmNoOiB0cnVlLA0KICAgICAgLy8g5oC75p2h5pWwDQogICAgICB0b3RhbDogMCwNCiAgICAgIC8vIOeJsueVnOaho+ahiOeuoeeQhuihqOagvOaVsOaNrg0KICAgICAgbGl2ZXN0b2NrTGlzdDogW10sDQogICAgICAvLyDlvLnlh7rlsYLmoIfpopgNCiAgICAgIHRpdGxlOiAiIiwNCiAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxgg0KICAgICAgb3BlbjogZmFsc2UsDQogICAgICAvLyDmn6Xor6Llj4LmlbANCiAgICAgIHF1ZXJ5UGFyYW1zOiB7DQogICAgICAgIHBhZ2VOdW06IDEsDQogICAgICAgIHBhZ2VTaXplOiAxMCwNCiAgICAgICAgYWdyb1VzZXJOYW1lOiBudWxsLA0KICAgICAgICBjb2RlOiBudWxsLA0KICAgICAgICBpY2NpZDogbnVsbCwNCiAgICAgICAgeHFJY2NpZDogbnVsbCwNCiAgICAgICAgbGl2ZXN0b2NrVHlwZTogbnVsbCwNCiAgICAgICAgbGl2ZXN0b2NrVmFyaWV0aWVzOiBudWxsLA0KICAgICAgICBvdXREYXRlOiBudWxsLA0KICAgICAgICBiaXJ0aGRheTogbnVsbCwNCiAgICAgICAgaXNJbnN1cmU6IG51bGwsDQogICAgICAgIHN0YXRpb246IG51bGwsDQogICAgICB9LA0KICAgICAgLy8g6KGo5Y2V5Y+C5pWwDQogICAgICBmb3JtOiB7fSwNCiAgICAgIC8vIOihqOWNleagoemqjA0KICAgICAgcnVsZXM6IHsNCiAgICAgICAgYWdyb1VzZXJOYW1lOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuWFu+auluaIt+S4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9DQogICAgICAgIF0sDQogICAgICAgIGNvZGU6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5Y6f5aeL6ICz5qCH5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH0NCiAgICAgICAgXSwNCiAgICAgICAgaWNjaWQ6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K6+5aSH57yW5Y+35LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH0NCiAgICAgICAgXSwNCiAgICAgICAgbGl2ZXN0b2NrVHlwZTogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLnibLnlZznsbvlnovkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiY2hhbmdlIiB9DQogICAgICAgIF0sDQogICAgICAgIGxpdmVzdG9ja1ZhcmlldGllczogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLnibLnlZzlk4Hnp43kuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiY2hhbmdlIiB9DQogICAgICAgIF0sDQogICAgICB9DQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmdldExpc3QoKTsNCiAgICB0aGlzLmdldFVzZXJMaXN0KCk7DQogICAgdGhpcy5nZXRsaXZlc3RvY2tUeXBlTGlzdCgpOw0KICAgIHRoaXMuZ2V0bGl2ZXN0b2NrVmFyaWV0aWVzTGlzdCgpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLyoqIOafpeivoueJsueVnOaho+ahiOeuoeeQhuWIl+ihqCAqLw0KICAgIGdldExpc3QoKSB7DQogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOw0KICAgICAgbGlzdExpdmVzdG9jayh0aGlzLnF1ZXJ5UGFyYW1zKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5saXZlc3RvY2tMaXN0ID0gcmVzcG9uc2Uucm93czsNCiAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLnRvdGFsOw0KICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgLy8g5Y+W5raI5oyJ6ZKuDQogICAgY2FuY2VsKCkgew0KICAgICAgdGhpcy5vcGVuID0gZmFsc2U7DQogICAgICB0aGlzLnJlc2V0KCk7DQogICAgfSwNCiAgICAvLyDooajljZXph43nva4NCiAgICByZXNldCgpIHsNCiAgICAgIHRoaXMuZm9ybSA9IHsNCiAgICAgICAgaWQ6IG51bGwsDQogICAgICAgIGNyZWF0ZUJ5OiBudWxsLA0KICAgICAgICBjcmVhdGVUaW1lOiBudWxsLA0KICAgICAgICB1cGRhdGVCeTogbnVsbCwNCiAgICAgICAgdXBkYXRlVGltZTogbnVsbCwNCiAgICAgICAgYWdyb1VzZXJJZDogbnVsbCwNCiAgICAgICAgYWdyb1VzZXJOYW1lOiBudWxsLA0KICAgICAgICBjb2RlOiBudWxsLA0KICAgICAgICBpY2NpZDogbnVsbCwNCiAgICAgICAgeHFJY2NpZDogbnVsbCwNCiAgICAgICAgbGl2ZXN0b2NrVHlwZTogbnVsbCwNCiAgICAgICAgbGl2ZXN0b2NrVmFyaWV0aWVzOiBudWxsLA0KICAgICAgICBvdXREYXRlOiBudWxsLA0KICAgICAgICBiaXJ0aGRheTogbnVsbCwNCiAgICAgICAgbG9hbkRhdGU6IG51bGwsDQogICAgICAgIGxvYW5Nb25leTogbnVsbCwNCiAgICAgICAgaXNJbnN1cmU6IG51bGwsDQogICAgICAgIHN0YXRpb246IG51bGwsDQogICAgICAgIHJlbWFyazogbnVsbCwNCiAgICAgICAgaW1hZ2U6IG51bGwNCiAgICAgIH07DQogICAgICB0aGlzLnJlc2V0Rm9ybSgiZm9ybSIpOw0KICAgIH0sDQogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqLw0KICAgIGhhbmRsZVF1ZXJ5KCkgew0KICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtID0gMTsNCiAgICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgIH0sDQogICAgLyoqIOmHjee9ruaMiemSruaTjeS9nCAqLw0KICAgIHJlc2V0UXVlcnkoKSB7DQogICAgICB0aGlzLnJlc2V0Rm9ybSgicXVlcnlGb3JtIik7DQogICAgICB0aGlzLmhhbmRsZVF1ZXJ5KCk7DQogICAgfSwNCiAgICAvLyDlpJrpgInmoYbpgInkuK3mlbDmja4NCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7DQogICAgICB0aGlzLmlkcyA9IHNlbGVjdGlvbi5tYXAoaXRlbSA9PiBpdGVtLmlkKQ0KICAgICAgdGhpcy5zaW5nbGUgPSBzZWxlY3Rpb24ubGVuZ3RoIT09MQ0KICAgICAgdGhpcy5tdWx0aXBsZSA9ICFzZWxlY3Rpb24ubGVuZ3RoDQogICAgfSwNCiAgICAvKiog5paw5aKe5oyJ6ZKu5pON5L2cICovDQogICAgaGFuZGxlQWRkKCkgew0KICAgICAgdGhpcy5yZXNldCgpOw0KICAgICAgdGhpcy5vcGVuID0gdHJ1ZTsNCiAgICAgIHRoaXMudGl0bGUgPSAi5re75Yqg54my55Wc5qGj5qGI566h55CGIjsNCiAgICB9LA0KICAgIC8qKiDkv67mlLnmjInpkq7mk43kvZwgKi8NCiAgICBoYW5kbGVVcGRhdGUocm93KSB7DQogICAgICB0aGlzLnJlc2V0KCk7DQogICAgICBjb25zdCBpZCA9IHJvdy5pZCB8fCB0aGlzLmlkcw0KICAgICAgZ2V0TGl2ZXN0b2NrKGlkKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5mb3JtID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgdGhpcy5vcGVuID0gdHJ1ZTsNCiAgICAgICAgdGhpcy50aXRsZSA9ICLkv67mlLnnibLnlZzmoaPmoYjnrqHnkIYiOw0KICAgICAgfSk7DQogICAgfSwNCiAgICAvKiog5o+Q5Lqk5oyJ6ZKuICovDQogICAgc3VibWl0Rm9ybSgpIHsNCiAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS52YWxpZGF0ZSh2YWxpZCA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIGlmICh0aGlzLmZvcm0uaWQgIT0gbnVsbCkgew0KICAgICAgICAgICAgdXBkYXRlTGl2ZXN0b2NrKHRoaXMuZm9ybSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgIHRoaXMuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuS/ruaUueaIkOWKnyIpOw0KICAgICAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTsNCiAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgYWRkTGl2ZXN0b2NrKHRoaXMuZm9ybSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgIHRoaXMuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuaWsOWinuaIkOWKnyIpOw0KICAgICAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTsNCiAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgLyoqIOWIoOmZpOaMiemSruaTjeS9nCAqLw0KICAgIGhhbmRsZURlbGV0ZShyb3cpIHsNCiAgICAgIGNvbnN0IGlkcyA9IHJvdy5pZCB8fCB0aGlzLmlkczsNCiAgICAgIHRoaXMuJG1vZGFsLmNvbmZpcm0oJ+aYr+WQpuehruiupOWIoOmZpOeJsueVnOaho+ahiOeuoeeQhue8luWPt+S4uiInICsgaWRzICsgJyLnmoTmlbDmja7pobnvvJ8nKS50aGVuKGZ1bmN0aW9uKCkgew0KICAgICAgICByZXR1cm4gZGVsTGl2ZXN0b2NrKGlkcyk7DQogICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgdGhpcy5nZXRMaXN0KCk7DQogICAgICAgIHRoaXMuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOw0KICAgICAgfSkuY2F0Y2goKCkgPT4ge30pOw0KICAgIH0sDQogICAgICAgICAvKioNCiAgICAgICAgICAqIOiOt+WPluWGnOaIt+S/oeaBrw0KICAgICAgICAgICovDQogICAgICAgIGdldFVzZXJMaXN0KCl7DQogICAgICAgIGxpc3RVc2VyKCkudGhlbiggcmVzID0+IHsNCiAgICAgICAgICAgIGlmKCByZXMuY29kZSAhPSAyMDApeyByZXR1cm4gdGhpcy5tZXNzYWdlKCLns7vnu5/plJnor68s6K+36YeN5paw5p+l6K+iIikgfQ0KICAgICAgICAgIHRoaXMudXNlckxpc3QgPSByZXMucm93cw0KICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudXNlckxpcysiPT09PT09PT09PT09IisgcmVzLnJvd3MpOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICkNCiAgICB9LA0KICAgICAgICAgICAgIC8qKg0KICAgICAgICAgICog6I635Y+W54my55Wc57G75Z6L5L+h5oGvDQogICAgICAgICAgKi8NCiAgICAgICAgZ2V0bGl2ZXN0b2NrVHlwZUxpc3QoKXsNCiAgICAgICAgbGlzdExpdmVzdG9ja1R5cGUoKS50aGVuKCByZXMgPT4gew0KICAgICAgICAgICAgaWYoIHJlcy5jb2RlICE9IDIwMCl7IHJldHVybiB0aGlzLm1lc3NhZ2UoIuezu+e7n+mUmeivryzor7fph43mlrDmn6Xor6IiKSB9DQogICAgICAgICAgdGhpcy5saXZlc3RvY2tUeXBlTGlzdCA9IHJlcy5yb3dzDQogICAgICAgICAgY29uc29sZS5sb2codGhpcy5saXZlc3RvY2tUeXBlTGlzdCsiPT09PT09PT09PT09IisgcmVzLnJvd3MpOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICkNCiAgICB9LA0KICAgICAgICAgICAvKioNCiAgICAgICAgICAqIOiOt+WPlueJsueVnOWTgeenjeS/oeaBrw0KICAgICAgICAgICovDQogICAgICAgIGdldGxpdmVzdG9ja1ZhcmlldGllc0xpc3QoKXsNCiAgICAgICAgICBsaXN0TGl2ZXN0b2NrVmFyaWV0aWVzKCkudGhlbiggcmVzID0+IHsNCiAgICAgICAgICAgIGlmKCByZXMuY29kZSAhPSAyMDApeyByZXR1cm4gdGhpcy5tZXNzYWdlKCLns7vnu5/plJnor68s6K+36YeN5paw5p+l6K+iIikgfQ0KICAgICAgICAgIHRoaXMubGl2ZXN0b2NrVmFyaWV0aWVzTGlzdCA9IHJlcy5yb3dzDQogICAgICAgICAgY29uc29sZS5sb2codGhpcy5saXZlc3RvY2tWYXJpZXRpZXNMaXN0KyI9PT09PT09PT09PT0iKyByZXMucm93cyk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgKQ0KICAgIH0sDQoNCiAgICAvKioNCiAgICAgICAgICAqIOi1i+WAvOmAieS4reWGnOaIt2lkDQogICAgICAgICAgKi8NCiAgICBzZXRJZCgpIHsNCiAgICAvLyDojrflj5bpgInkuK3nmoTnlKjmiLflr7nosaENCiAgICBjb25zdCBzZWxlY3RlZFVzZXIgPSB0aGlzLnVzZXJMaXN0LmZpbmQoaXRlbSA9PiBpdGVtLm5hbWUgPT09IHRoaXMuZm9ybS5hZ3JvVXNlck5hbWUpDQogICAgLy8g5bCG6YCJ5Lit55So5oi355qEaWTotYvlgLznu5lmb3JtLmNvZGUNCiAgICB0aGlzLmZvcm0uYWdyb1VzZXJJZCA9IHNlbGVjdGVkVXNlciA/IHNlbGVjdGVkVXNlci5pZCA6IG51bGwNCiAgfSwNCiAgICAvKiog5a+85Ye65oyJ6ZKu5pON5L2cICovDQogICAgaGFuZGxlRXhwb3J0KCkgew0KICAgICAgdGhpcy5kb3dubG9hZCgnYWdyby9saXZlc3RvY2svZXhwb3J0Jywgew0KICAgICAgICAuLi50aGlzLnF1ZXJ5UGFyYW1zDQogICAgICB9LCBgbGl2ZXN0b2NrXyR7bmV3IERhdGUoKS5nZXRUaW1lKCl9Lnhsc3hgKQ0KICAgIH0sDQogICAgIC8v6YGN5Y6G5YiX55qE5omA5pyJ5YaF5a6577yM6I635Y+W5pyA5a695LiA5YiX55qE5a695bqmDQpnZXRNYXhMZW5ndGggKGFycikgew0KICByZXR1cm4gYXJyLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiB7DQogICAgaWYgKGl0ZW0pIHsNCiAgICAgIGNvbnN0IGNhbGNMZW4gPSB0aGlzLmdldFRleHRXaWR0aChpdGVtKQ0KICAgICAgaWYgKGFjYyA8IGNhbGNMZW4pIHsNCiAgICAgICAgYWNjID0gY2FsY0xlbg0KICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gYWNjDQogIH0sIDApDQp9LA0KDQpnZXRUZXh0V2lkdGggKHN0cikgew0KICBsZXQgd2lkdGggPSAwDQogIGNvbnN0IGh0bWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJykNCiAgaHRtbC5pbm5lclRleHQgPSBzdHINCiAgaHRtbC5jbGFzc05hbWUgPSAnZ2V0VGV4dFdpZHRoJw0KICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuYXBwZW5kQ2hpbGQoaHRtbCkNCiAgd2lkdGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2V0VGV4dFdpZHRoJykub2Zmc2V0V2lkdGgNCiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdldFRleHRXaWR0aCcpLnJlbW92ZSgpDQogIHJldHVybiB3aWR0aA0KfSwNCi8qKg0KICogZWwtdGFibGUtY29sdW1uIOiHqumAguW6lOWIl+WuvQ0KICogQHBhcmFtIHByb3BfbGFiZWw6IOihqOWQjQ0KICogQHBhcmFtIHRhYmxlX2RhdGE6IOihqOagvOaVsOaNrg0KICovDQpmbGV4Q29sdW1uV2lkdGggKGxhYmVsLCBwcm9wKSB7DQovLyAxLuiOt+WPluivpeWIl+eahOaJgOacieaVsOaNrg0KICBjb25zdCBhcnIgPSB0aGlzLmxpdmVzdG9ja0xpc3QubWFwKHggPT4geFtwcm9wXSkNCi8vIOaKiuavj+WIl+eahOihqOWktOS5n+WKoOi/m+WOu+eulw0KICBhcnIucHVzaChsYWJlbCkgDQovLyAyLuiuoeeul+avj+WIl+WGheWuueacgOWkp+eahOWuveW6piArIOihqOagvOeahOWGhemXtOi3ne+8iOS+neaNruWunumZheaDheWGteiAjOWumu+8iQ0KICByZXR1cm4gKHRoaXMuZ2V0TWF4TGVuZ3RoKGFycikgKyA0MCkgKyAncHgnDQogICAgfSwNCg0KDQoNCiAgICANCiAgfQ0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8UA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA","file":"index.vue","sourceRoot":"src/views/agro/livestock","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\r\n\r\n   <!--    @keyup.enter.native=\"handleQuery\" -->\r\n      <el-form-item label=\"养殖户\" prop=\"agroUserName\">\r\n        <el-select v-model=\"queryParams.agroUserName\" placeholder=\"请输入养殖户\" clearable>\r\n          <el-option\r\n            v-for=\"item in userList\"\r\n            :key=\"item.name\"\r\n            :label=\"item.name\"\r\n            :value=\"item.name\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n\r\n\r\n      <el-form-item label=\"原始耳标\" prop=\"code\">\r\n        <el-input\r\n          v-model=\"queryParams.code\"\r\n          placeholder=\"请输入原始耳标\"\r\n          clearable\r\n          @keyup.enter.native=\"handleQuery\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item label=\"设备编号\" prop=\"iccid\">\r\n        <el-input\r\n          v-model=\"queryParams.iccid\"\r\n          placeholder=\"请输入设备编号\"\r\n          clearable\r\n          @keyup.enter.native=\"handleQuery\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item label=\"项圈编号\" prop=\"xqIccid\">\r\n        <el-input\r\n          v-model=\"queryParams.xqIccid\"\r\n          placeholder=\"请输入项圈编号\"\r\n          clearable\r\n          @keyup.enter.native=\"handleQuery\"\r\n        />\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"牲畜类型\" prop=\"livestockType\">\r\n        <el-select v-model=\"queryParams.livestockType\" placeholder=\"请选择牲畜类型\" clearable>\r\n          <el-option\r\n            v-for=\"item in livestockTypeList\"\r\n            :key=\"item.livestockType\"\r\n            :label=\"item.livestockType\"\r\n            :value=\"item.livestockType\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"牲畜品种\" prop=\"livestockVarieties\">\r\n        <el-select v-model=\"queryParams.livestockVarieties\" placeholder=\"请选择牲畜品种\" clearable>\r\n          <el-option\r\n            v-for=\"item in livestockVarietiesList\"\r\n            :key=\"item.livestockVarieties\"\r\n            :label=\"item.livestockVarieties\"\r\n            :value=\"item.livestockVarieties\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <!-- <el-form-item label=\"预计出栏\" prop=\"outDate\">\r\n        <el-date-picker clearable\r\n          v-model=\"queryParams.outDate\"\r\n          type=\"date\"\r\n          value-format=\"yyyy-MM-dd\"\r\n          placeholder=\"请选择预计出栏日期\">\r\n        </el-date-picker>\r\n      </el-form-item>\r\n      <el-form-item label=\"出生日期\" prop=\"birthday\">\r\n        <el-date-picker clearable\r\n          v-model=\"queryParams.birthday\"\r\n          type=\"date\"\r\n          value-format=\"yyyy-MM-dd\"\r\n          placeholder=\"请选择出生日期\">\r\n        </el-date-picker>\r\n      </el-form-item> -->\r\n      <el-form-item label=\"是否投保\" prop=\"isInsure\">\r\n        <el-select v-model=\"queryParams.isInsure\" placeholder=\"请选择是否投保\" clearable>\r\n          <el-option\r\n            v-for=\"dict in dict.type.agro_is_insure\"\r\n            :key=\"dict.value\"\r\n            :label=\"dict.label\"\r\n            :value=\"dict.value\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"站点\" prop=\"station\">\r\n        <el-input\r\n          v-model=\"queryParams.station\"\r\n          placeholder=\"请输入站点\"\r\n          clearable\r\n          @keyup.enter.native=\"handleQuery\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\r\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <el-row :gutter=\"10\" class=\"mb8\">\r\n      <el-col :span=\"1.5\">\r\n        <el-button\r\n          type=\"primary\"\r\n          plain\r\n          icon=\"el-icon-plus\"\r\n          size=\"mini\"\r\n          @click=\"handleAdd\"\r\n          v-hasPermi=\"['agro:livestock:add']\"\r\n        >新增</el-button>\r\n      </el-col>\r\n      <el-col :span=\"1.5\">\r\n        <el-button\r\n          type=\"success\"\r\n          plain\r\n          icon=\"el-icon-edit\"\r\n          size=\"mini\"\r\n          :disabled=\"single\"\r\n          @click=\"handleUpdate\"\r\n          v-hasPermi=\"['agro:livestock:edit']\"\r\n        >修改</el-button>\r\n      </el-col>\r\n      <el-col :span=\"1.5\">\r\n        <el-button\r\n          type=\"danger\"\r\n          plain\r\n          icon=\"el-icon-delete\"\r\n          size=\"mini\"\r\n          :disabled=\"multiple\"\r\n          @click=\"handleDelete\"\r\n          v-hasPermi=\"['agro:livestock:remove']\"\r\n        >删除</el-button>\r\n      </el-col>\r\n      <el-col :span=\"1.5\">\r\n        <el-button\r\n          type=\"warning\"\r\n          plain\r\n          icon=\"el-icon-download\"\r\n          size=\"mini\"\r\n          @click=\"handleExport\"\r\n          v-hasPermi=\"['agro:livestock:export']\"\r\n        >导出</el-button>\r\n      </el-col>\r\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\r\n    </el-row>\r\n\r\n    <el-table v-loading=\"loading\" :data=\"livestockList\" \r\n     @selection-change=\"handleSelectionChange\"\r\n     border resizable  \r\n     auto-resize=\"true\" \r\n     >\r\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\r\n      <!-- <el-table-column label=\"主键id\" align=\"center\" prop=\"id\" /> -->\r\n      <el-table-column label=\"养殖户\" align=\"center\" prop=\"agroUserName\" :width=\"flexColumnWidth('养殖户','agroUserName')\"/>\r\n      <el-table-column label=\"原始耳标\" align=\"center\" prop=\"code\" :width=\"flexColumnWidth('原始耳标','code')\"/>\r\n      <el-table-column label=\"设备编号\" align=\"center\" prop=\"iccid\" :width=\"flexColumnWidth('设备编号','iccid')\"/>\r\n      <el-table-column label=\"项圈编号\" align=\"center\" prop=\"xqIccid\" :width=\"flexColumnWidth('项圈编号','xqIccid')\"/>\r\n      <el-table-column label=\"牲畜类型\" align=\"center\" prop=\"livestockType\" :width=\"flexColumnWidth('牲畜类型','livestockType')\">\r\n        <template slot-scope=\"scope\">\r\n          <dict-tag :options=\"dict.type.agro_livestock_type\" :value=\"scope.row.livestockType\"/>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"牲畜品种\" align=\"center\" prop=\"livestockVarieties\">\r\n        <template slot-scope=\"scope\">\r\n          <dict-tag :options=\"dict.type.agro_livestock_varieties\" :value=\"scope.row.livestockVarieties\"/>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"预计出栏\" align=\"center\" prop=\"outDate\" width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ parseTime(scope.row.outDate, '{y}-{m}-{d}') }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"出生日期\" align=\"center\" prop=\"birthday\" width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ parseTime(scope.row.birthday, '{y}-{m}-{d}') }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"贷款日期\" align=\"center\" prop=\"loanDate\" width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ parseTime(scope.row.loanDate, '{y}-{m}-{d}') }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"贷款金额\" align=\"center\" prop=\"loanMoney\" />\r\n      <el-table-column label=\"是否投保\" align=\"center\" prop=\"isInsure\">\r\n        <template slot-scope=\"scope\">\r\n          <dict-tag :options=\"dict.type.agro_is_insure\" :value=\"scope.row.isInsure\"/>\r\n        </template>\r\n      </el-table-column>\r\n      \r\n\r\n\r\n\r\n      <el-table-column label=\"站点\" align=\"center\" prop=\"station\" />\r\n\r\n\r\n        <el-table-column label=\"照片\" align=\"center\" prop=\"image\" width=\"100\">\r\n        <template #default=\"scope\">\r\n          <image-preview :src=\"scope.row.image\" :width=\"50\" :height=\"50\"/>\r\n        </template>\r\n      </el-table-column>\r\n      \r\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"text\"\r\n            icon=\"el-icon-edit\"\r\n            @click=\"handleUpdate(scope.row)\"\r\n            v-hasPermi=\"['agro:livestock:edit']\"\r\n          >修改</el-button>\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"text\"\r\n            icon=\"el-icon-delete\"\r\n            @click=\"handleDelete(scope.row)\"\r\n            v-hasPermi=\"['agro:livestock:remove']\"\r\n          >删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    \r\n    <pagination\r\n      v-show=\"total>0\"\r\n      :total=\"total\"\r\n      :page.sync=\"queryParams.pageNum\"\r\n      :limit.sync=\"queryParams.pageSize\"\r\n      @pagination=\"getList\"\r\n    />\r\n\r\n    <!-- 添加或修改牲畜档案管理对话框 -->\r\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"500px\" append-to-body>\r\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\r\n        <el-form-item label=\"养殖户\" prop=\"agroUserName\">\r\n           <el-select v-model=\"form.agroUserName\" filterable placeholder=\"请选择\" @change=\"setId\">\r\n            <el-option\r\n              v-for=\"item in userList\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.name\">\r\n            </el-option>\r\n          </el-select>\r\n         <!-- <el-input v-model=\"form.agroUserName\" placeholder=\"请输入养殖户\" />  -->\r\n <!-- <el-input  v-model=\"name\" placeholder=\"请选择\" :size=\"size\" :disabled=\"inpDisabled\" style=\"line-hight:40px\" class=\"input-with-select\">\r\n    <el-button slot=\"append\" :disabled=\"btnDisabled\" @click=\"showUserSelect\" icon=\"el-icon-search\"></el-button>\r\n  </el-input> -->\r\n\r\n        </el-form-item>\r\n        <el-form-item label=\"原始耳标\" prop=\"code\">\r\n          <el-input v-model=\"form.code\" placeholder=\"请输入原始耳标\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"设备编号\" prop=\"iccid\">\r\n          <el-input v-model=\"form.iccid\" placeholder=\"请输入设备编号\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"项圈编号\" prop=\"xqIccid\">\r\n          <el-input v-model=\"form.xqIccid\" placeholder=\"请输入项圈编号\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"牲畜类型\" prop=\"livestockType\">\r\n          <el-select v-model=\"form.livestockType\" placeholder=\"请选择牲畜类型\">\r\n            <el-option\r\n              v-for=\"item in livestockTypeList\"\r\n              :key=\"item.livestockType\"\r\n              :label=\"item.livestockType\"\r\n              :value=\"item.livestockType\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"牲畜品种\" prop=\"livestockVarieties\">\r\n          <el-select v-model=\"form.livestockVarieties\" placeholder=\"请选择牲畜品种\">\r\n            <el-option\r\n              v-for=\"item in livestockVarietiesList\"\r\n              :key=\"item.livestockVarieties\"\r\n              :label=\"item.livestockVarieties\"\r\n              :value=\"item.livestockVarieties\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"预计出栏\" prop=\"outDate\">\r\n          <el-date-picker clearable\r\n            v-model=\"form.outDate\"\r\n            type=\"date\"\r\n            value-format=\"yyyy-MM-dd\"\r\n            placeholder=\"请选择预计出栏日期\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"出生日期\" prop=\"birthday\">\r\n          <el-date-picker clearable\r\n            v-model=\"form.birthday\"\r\n            type=\"date\"\r\n            value-format=\"yyyy-MM-dd\"\r\n            placeholder=\"请选择出生日期\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"贷款日期\" prop=\"loanDate\">\r\n          <el-date-picker clearable\r\n            v-model=\"form.loanDate\"\r\n            type=\"date\"\r\n            value-format=\"yyyy-MM-dd\"\r\n            placeholder=\"请选择贷款日期\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"贷款金额\" prop=\"loanMoney\">\r\n          <el-input v-model=\"form.loanMoney\" placeholder=\"请输入贷款金额\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"是否投保\" prop=\"isInsure\">\r\n          <el-radio-group v-model=\"form.isInsure\">\r\n            <el-radio\r\n              v-for=\"dict in dict.type.agro_is_insure\"\r\n              :key=\"dict.value\"\r\n              :label=\"dict.value\"\r\n            >{{dict.label}}</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"站点\" prop=\"station\">\r\n          <el-input v-model=\"form.station\" placeholder=\"请输入站点\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"备注\" prop=\"remark\">\r\n          <el-input v-model=\"form.remark\" placeholder=\"请输入备注\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"照片\" prop=\"image\">\r\n          <image-upload v-model=\"form.image\"/>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\r\n        <el-button @click=\"cancel\">取 消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { listLivestock, getLivestock, delLivestock, addLivestock, updateLivestock } from \"@/api/agro/livestock\";\r\nimport { listUser} from \"@/api/agro/user\";\r\nimport { listLivestockType} from \"@/api/agro/livestockType\";\r\nimport { listLivestockVarieties} from \"@/api/agro/livestockVarieties\";\r\n\r\nexport default {\r\n  name: \"Livestock\",\r\n  dicts: ['agro_livestock_varieties', 'agro_livestock_type', 'agro_is_insure'],\r\n  data() {\r\n    return {\r\n      //牲畜品种集合\r\n      livestockVarietiesList:[],\r\n\r\n      //牲畜类型集合\r\n      livestockTypeList:[],\r\n      userList: [],\r\n      // 遮罩层\r\n      loading: true,\r\n      // 选中数组\r\n      ids: [],\r\n      // 非单个禁用\r\n      single: true,\r\n      // 非多个禁用\r\n      multiple: true,\r\n      // 显示搜索条件\r\n      showSearch: true,\r\n      // 总条数\r\n      total: 0,\r\n      // 牲畜档案管理表格数据\r\n      livestockList: [],\r\n      // 弹出层标题\r\n      title: \"\",\r\n      // 是否显示弹出层\r\n      open: false,\r\n      // 查询参数\r\n      queryParams: {\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        agroUserName: null,\r\n        code: null,\r\n        iccid: null,\r\n        xqIccid: null,\r\n        livestockType: null,\r\n        livestockVarieties: null,\r\n        outDate: null,\r\n        birthday: null,\r\n        isInsure: null,\r\n        station: null,\r\n      },\r\n      // 表单参数\r\n      form: {},\r\n      // 表单校验\r\n      rules: {\r\n        agroUserName: [\r\n          { required: true, message: \"养殖户不能为空\", trigger: \"blur\" }\r\n        ],\r\n        code: [\r\n          { required: true, message: \"原始耳标不能为空\", trigger: \"blur\" }\r\n        ],\r\n        iccid: [\r\n          { required: true, message: \"设备编号不能为空\", trigger: \"blur\" }\r\n        ],\r\n        livestockType: [\r\n          { required: true, message: \"牲畜类型不能为空\", trigger: \"change\" }\r\n        ],\r\n        livestockVarieties: [\r\n          { required: true, message: \"牲畜品种不能为空\", trigger: \"change\" }\r\n        ],\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.getList();\r\n    this.getUserList();\r\n    this.getlivestockTypeList();\r\n    this.getlivestockVarietiesList();\r\n  },\r\n  methods: {\r\n    /** 查询牲畜档案管理列表 */\r\n    getList() {\r\n      this.loading = true;\r\n      listLivestock(this.queryParams).then(response => {\r\n        this.livestockList = response.rows;\r\n        this.total = response.total;\r\n        this.loading = false;\r\n      });\r\n    },\r\n    // 取消按钮\r\n    cancel() {\r\n      this.open = false;\r\n      this.reset();\r\n    },\r\n    // 表单重置\r\n    reset() {\r\n      this.form = {\r\n        id: null,\r\n        createBy: null,\r\n        createTime: null,\r\n        updateBy: null,\r\n        updateTime: null,\r\n        agroUserId: null,\r\n        agroUserName: null,\r\n        code: null,\r\n        iccid: null,\r\n        xqIccid: null,\r\n        livestockType: null,\r\n        livestockVarieties: null,\r\n        outDate: null,\r\n        birthday: null,\r\n        loanDate: null,\r\n        loanMoney: null,\r\n        isInsure: null,\r\n        station: null,\r\n        remark: null,\r\n        image: null\r\n      };\r\n      this.resetForm(\"form\");\r\n    },\r\n    /** 搜索按钮操作 */\r\n    handleQuery() {\r\n      this.queryParams.pageNum = 1;\r\n      this.getList();\r\n    },\r\n    /** 重置按钮操作 */\r\n    resetQuery() {\r\n      this.resetForm(\"queryForm\");\r\n      this.handleQuery();\r\n    },\r\n    // 多选框选中数据\r\n    handleSelectionChange(selection) {\r\n      this.ids = selection.map(item => item.id)\r\n      this.single = selection.length!==1\r\n      this.multiple = !selection.length\r\n    },\r\n    /** 新增按钮操作 */\r\n    handleAdd() {\r\n      this.reset();\r\n      this.open = true;\r\n      this.title = \"添加牲畜档案管理\";\r\n    },\r\n    /** 修改按钮操作 */\r\n    handleUpdate(row) {\r\n      this.reset();\r\n      const id = row.id || this.ids\r\n      getLivestock(id).then(response => {\r\n        this.form = response.data;\r\n        this.open = true;\r\n        this.title = \"修改牲畜档案管理\";\r\n      });\r\n    },\r\n    /** 提交按钮 */\r\n    submitForm() {\r\n      this.$refs[\"form\"].validate(valid => {\r\n        if (valid) {\r\n          if (this.form.id != null) {\r\n            updateLivestock(this.form).then(response => {\r\n              this.$modal.msgSuccess(\"修改成功\");\r\n              this.open = false;\r\n              this.getList();\r\n            });\r\n          } else {\r\n            addLivestock(this.form).then(response => {\r\n              this.$modal.msgSuccess(\"新增成功\");\r\n              this.open = false;\r\n              this.getList();\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    /** 删除按钮操作 */\r\n    handleDelete(row) {\r\n      const ids = row.id || this.ids;\r\n      this.$modal.confirm('是否确认删除牲畜档案管理编号为\"' + ids + '\"的数据项？').then(function() {\r\n        return delLivestock(ids);\r\n      }).then(() => {\r\n        this.getList();\r\n        this.$modal.msgSuccess(\"删除成功\");\r\n      }).catch(() => {});\r\n    },\r\n         /**\r\n          * 获取农户信息\r\n          */\r\n        getUserList(){\r\n        listUser().then( res => {\r\n            if( res.code != 200){ return this.message(\"系统错误,请重新查询\") }\r\n          this.userList = res.rows\r\n          // console.log(this.userLis+\"============\"+ res.rows);\r\n              }\r\n              )\r\n    },\r\n             /**\r\n          * 获取牲畜类型信息\r\n          */\r\n        getlivestockTypeList(){\r\n        listLivestockType().then( res => {\r\n            if( res.code != 200){ return this.message(\"系统错误,请重新查询\") }\r\n          this.livestockTypeList = res.rows\r\n          console.log(this.livestockTypeList+\"============\"+ res.rows);\r\n              }\r\n              )\r\n    },\r\n           /**\r\n          * 获取牲畜品种信息\r\n          */\r\n        getlivestockVarietiesList(){\r\n          listLivestockVarieties().then( res => {\r\n            if( res.code != 200){ return this.message(\"系统错误,请重新查询\") }\r\n          this.livestockVarietiesList = res.rows\r\n          console.log(this.livestockVarietiesList+\"============\"+ res.rows);\r\n              }\r\n              )\r\n    },\r\n\r\n    /**\r\n          * 赋值选中农户id\r\n          */\r\n    setId() {\r\n    // 获取选中的用户对象\r\n    const selectedUser = this.userList.find(item => item.name === this.form.agroUserName)\r\n    // 将选中用户的id赋值给form.code\r\n    this.form.agroUserId = selectedUser ? selectedUser.id : null\r\n  },\r\n    /** 导出按钮操作 */\r\n    handleExport() {\r\n      this.download('agro/livestock/export', {\r\n        ...this.queryParams\r\n      }, `livestock_${new Date().getTime()}.xlsx`)\r\n    },\r\n     //遍历列的所有内容，获取最宽一列的宽度\r\ngetMaxLength (arr) {\r\n  return arr.reduce((acc, item) => {\r\n    if (item) {\r\n      const calcLen = this.getTextWidth(item)\r\n      if (acc < calcLen) {\r\n        acc = calcLen\r\n      }\r\n    }\r\n    return acc\r\n  }, 0)\r\n},\r\n\r\ngetTextWidth (str) {\r\n  let width = 0\r\n  const html = document.createElement('span')\r\n  html.innerText = str\r\n  html.className = 'getTextWidth'\r\n  document.querySelector('body').appendChild(html)\r\n  width = document.querySelector('.getTextWidth').offsetWidth\r\n  document.querySelector('.getTextWidth').remove()\r\n  return width\r\n},\r\n/**\r\n * el-table-column 自适应列宽\r\n * @param prop_label: 表名\r\n * @param table_data: 表格数据\r\n */\r\nflexColumnWidth (label, prop) {\r\n// 1.获取该列的所有数据\r\n  const arr = this.livestockList.map(x => x[prop])\r\n// 把每列的表头也加进去算\r\n  arr.push(label) \r\n// 2.计算每列内容最大的宽度 + 表格的内间距（依据实际情况而定）\r\n  return (this.getMaxLength(arr) + 40) + 'px'\r\n    },\r\n\r\n\r\n\r\n    \r\n  }\r\n};\r\n</script>\r\n"]}]}