{"remainingRequest":"D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\src\\views\\agro\\livestock\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\src\\views\\agro\\livestock\\index.vue","mtime":1711011672758},{"path":"D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\babel.config.js","mtime":1710675411407},{"path":"D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710867555791},{"path":"D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1710867556608},{"path":"D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710867555791},{"path":"D:\\taoserver\\platform\\taoyuan_qian\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1710867531387}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi90YW9zZXJ2ZXIvcGxhdGZvcm0vdGFveXVhbl9xaWFuL3J1b3lpLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwp2YXIgX29iamVjdFNwcmVhZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkQ6L3Rhb3NlcnZlci9wbGF0Zm9ybS90YW95dWFuX3FpYW4vcnVveWktdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0U3ByZWFkMi5qcyIpKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnZhciBfbGl2ZXN0b2NrID0gcmVxdWlyZSgiQC9hcGkvYWdyby9saXZlc3RvY2siKTsKdmFyIF91c2VyID0gcmVxdWlyZSgiQC9hcGkvYWdyby91c2VyIik7CnZhciBfbGl2ZXN0b2NrVHlwZSA9IHJlcXVpcmUoIkAvYXBpL2Fncm8vbGl2ZXN0b2NrVHlwZSIpOwp2YXIgX2xpdmVzdG9ja1ZhcmlldGllcyA9IHJlcXVpcmUoIkAvYXBpL2Fncm8vbGl2ZXN0b2NrVmFyaWV0aWVzIik7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IGV4cG9ydHMuZGVmYXVsdCA9IHsKICBuYW1lOiAiTGl2ZXN0b2NrIiwKICBkaWN0czogWydhZ3JvX2xpdmVzdG9ja192YXJpZXRpZXMnLCAnYWdyb19saXZlc3RvY2tfdHlwZScsICdhZ3JvX2lzX2luc3VyZSddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvL+eJsueVnOWTgeenjembhuWQiAogICAgICBsaXZlc3RvY2tWYXJpZXRpZXNMaXN0OiBbXSwKICAgICAgLy/nibLnlZznsbvlnovpm4blkIgKICAgICAgbGl2ZXN0b2NrVHlwZUxpc3Q6IFtdLAogICAgICB1c2VyTGlzdDogW10sCiAgICAgIC8vIOmBrue9qeWxggogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAvLyDpgInkuK3mlbDnu4QKICAgICAgaWRzOiBbXSwKICAgICAgLy8g6Z2e5Y2V5Liq56aB55SoCiAgICAgIHNpbmdsZTogdHJ1ZSwKICAgICAgLy8g6Z2e5aSa5Liq56aB55SoCiAgICAgIG11bHRpcGxlOiB0cnVlLAogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YKICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwKICAgICAgLy8g5oC75p2h5pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDnibLnlZzmoaPmoYjnrqHnkIbooajmoLzmlbDmja4KICAgICAgbGl2ZXN0b2NrTGlzdDogW10sCiAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICB0aXRsZTogIiIsCiAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggogICAgICBvcGVuOiBmYWxzZSwKICAgICAgLy8g5p+l6K+i5Y+C5pWwCiAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgYWdyb1VzZXJOYW1lOiBudWxsLAogICAgICAgIGNvZGU6IG51bGwsCiAgICAgICAgaWNjaWQ6IG51bGwsCiAgICAgICAgeHFJY2NpZDogbnVsbCwKICAgICAgICBsaXZlc3RvY2tUeXBlOiBudWxsLAogICAgICAgIGxpdmVzdG9ja1ZhcmlldGllczogbnVsbCwKICAgICAgICBvdXREYXRlOiBudWxsLAogICAgICAgIGJpcnRoZGF5OiBudWxsLAogICAgICAgIGlzSW5zdXJlOiBudWxsLAogICAgICAgIHN0YXRpb246IG51bGwKICAgICAgfSwKICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgIGZvcm06IHt9LAogICAgICAvLyDooajljZXmoKHpqowKICAgICAgcnVsZXM6IHsKICAgICAgICBhZ3JvVXNlck5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLlhbvmrpbmiLfkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgY29kZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuWOn+Wni+iAs+agh+S4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBpY2NpZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuiuvuWkh+e8luWPt+S4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBsaXZlc3RvY2tUeXBlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi54my55Wc57G75Z6L5LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJjaGFuZ2UiCiAgICAgICAgfV0sCiAgICAgICAgbGl2ZXN0b2NrVmFyaWV0aWVzOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi54my55Wc5ZOB56eN5LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJjaGFuZ2UiCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICAgIHRoaXMuZ2V0VXNlckxpc3QoKTsKICAgIHRoaXMuZ2V0bGl2ZXN0b2NrVHlwZUxpc3QoKTsKICAgIHRoaXMuZ2V0bGl2ZXN0b2NrVmFyaWV0aWVzTGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgLyoqIOafpeivoueJsueVnOaho+ahiOeuoeeQhuWIl+ihqCAqL2dldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICgwLCBfbGl2ZXN0b2NrLmxpc3RMaXZlc3RvY2spKHRoaXMucXVlcnlQYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMubGl2ZXN0b2NrTGlzdCA9IHJlc3BvbnNlLnJvd3M7CiAgICAgICAgX3RoaXMudG90YWwgPSByZXNwb25zZS50b3RhbDsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWPlua2iOaMiemSrgogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICB0aGlzLnJlc2V0KCk7CiAgICB9LAogICAgLy8g6KGo5Y2V6YeN572uCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICBjcmVhdGVCeTogbnVsbCwKICAgICAgICBjcmVhdGVUaW1lOiBudWxsLAogICAgICAgIHVwZGF0ZUJ5OiBudWxsLAogICAgICAgIHVwZGF0ZVRpbWU6IG51bGwsCiAgICAgICAgYWdyb1VzZXJJZDogbnVsbCwKICAgICAgICBhZ3JvVXNlck5hbWU6IG51bGwsCiAgICAgICAgY29kZTogbnVsbCwKICAgICAgICBpY2NpZDogbnVsbCwKICAgICAgICB4cUljY2lkOiBudWxsLAogICAgICAgIGxpdmVzdG9ja1R5cGU6IG51bGwsCiAgICAgICAgbGl2ZXN0b2NrVmFyaWV0aWVzOiBudWxsLAogICAgICAgIG91dERhdGU6IG51bGwsCiAgICAgICAgYmlydGhkYXk6IG51bGwsCiAgICAgICAgbG9hbkRhdGU6IG51bGwsCiAgICAgICAgbG9hbk1vbmV5OiBudWxsLAogICAgICAgIGlzSW5zdXJlOiBudWxsLAogICAgICAgIHN0YXRpb246IG51bGwsCiAgICAgICAgcmVtYXJrOiBudWxsLAogICAgICAgIGltYWdlOiBudWxsCiAgICAgIH07CiAgICAgIHRoaXMucmVzZXRGb3JtKCJmb3JtIik7CiAgICB9LAogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqL2hhbmRsZVF1ZXJ5OiBmdW5jdGlvbiBoYW5kbGVRdWVyeSgpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtID0gMTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLyoqIOmHjee9ruaMiemSruaTjeS9nCAqL3Jlc2V0UXVlcnk6IGZ1bmN0aW9uIHJlc2V0UXVlcnkoKSB7CiAgICAgIHRoaXMucmVzZXRGb3JtKCJxdWVyeUZvcm0iKTsKICAgICAgdGhpcy5oYW5kbGVRdWVyeSgpOwogICAgfSwKICAgIC8vIOWkmumAieahhumAieS4reaVsOaNrgogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMuaWRzID0gc2VsZWN0aW9uLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmlkOwogICAgICB9KTsKICAgICAgdGhpcy5zaW5nbGUgPSBzZWxlY3Rpb24ubGVuZ3RoICE9PSAxOwogICAgICB0aGlzLm11bHRpcGxlID0gIXNlbGVjdGlvbi5sZW5ndGg7CiAgICB9LAogICAgLyoqIOaWsOWinuaMiemSruaTjeS9nCAqL2hhbmRsZUFkZDogZnVuY3Rpb24gaGFuZGxlQWRkKCkgewogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIHRoaXMub3BlbiA9IHRydWU7CiAgICAgIHRoaXMudGl0bGUgPSAi5re75Yqg54my55Wc5qGj5qGI566h55CGIjsKICAgIH0sCiAgICAvKiog5L+u5pS55oyJ6ZKu5pON5L2cICovaGFuZGxlVXBkYXRlOiBmdW5jdGlvbiBoYW5kbGVVcGRhdGUocm93KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIHZhciBpZCA9IHJvdy5pZCB8fCB0aGlzLmlkczsKICAgICAgKDAsIF9saXZlc3RvY2suZ2V0TGl2ZXN0b2NrKShpZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIuZm9ybSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgX3RoaXMyLm9wZW4gPSB0cnVlOwogICAgICAgIF90aGlzMi50aXRsZSA9ICLkv67mlLnnibLnlZzmoaPmoYjnrqHnkIYiOwogICAgICB9KTsKICAgIH0sCiAgICAvKiog5o+Q5Lqk5oyJ6ZKuICovc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmIChfdGhpczMuZm9ybS5pZCAhPSBudWxsKSB7CiAgICAgICAgICAgICgwLCBfbGl2ZXN0b2NrLnVwZGF0ZUxpdmVzdG9jaykoX3RoaXMzLmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgX3RoaXMzLiRtb2RhbC5tc2dTdWNjZXNzKCLkv67mlLnmiJDlip8iKTsKICAgICAgICAgICAgICBfdGhpczMub3BlbiA9IGZhbHNlOwogICAgICAgICAgICAgIF90aGlzMy5nZXRMaXN0KCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgKDAsIF9saXZlc3RvY2suYWRkTGl2ZXN0b2NrKShfdGhpczMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBfdGhpczMuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuaWsOWinuaIkOWKnyIpOwogICAgICAgICAgICAgIF90aGlzMy5vcGVuID0gZmFsc2U7CiAgICAgICAgICAgICAgX3RoaXMzLmdldExpc3QoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvKiog5Yig6Zmk5oyJ6ZKu5pON5L2cICovaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUocm93KSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB2YXIgaWRzID0gcm93LmlkIHx8IHRoaXMuaWRzOwogICAgICB0aGlzLiRtb2RhbC5jb25maXJtKCfmmK/lkKbnoa7orqTliKDpmaTnibLnlZzmoaPmoYjnrqHnkIbnvJblj7fkuLoiJyArIGlkcyArICci55qE5pWw5o2u6aG577yfJykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICgwLCBfbGl2ZXN0b2NrLmRlbExpdmVzdG9jaykoaWRzKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LmdldExpc3QoKTsKICAgICAgICBfdGhpczQuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgLyoqDQogICAgICog6I635Y+W5Yac5oi35L+h5oGvDQogICAgICovCiAgICBnZXRVc2VyTGlzdDogZnVuY3Rpb24gZ2V0VXNlckxpc3QoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICAoMCwgX3VzZXIubGlzdFVzZXIpKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5jb2RlICE9IDIwMCkgewogICAgICAgICAgcmV0dXJuIF90aGlzNS5tZXNzYWdlKCLns7vnu5/plJnor68s6K+36YeN5paw5p+l6K+iIik7CiAgICAgICAgfQogICAgICAgIF90aGlzNS51c2VyTGlzdCA9IHJlcy5yb3dzOwogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudXNlckxpcysiPT09PT09PT09PT09IisgcmVzLnJvd3MpOwogICAgICB9KTsKICAgIH0sCiAgICAvKioNCiAgICAqIOiOt+WPlueJsueVnOexu+Wei+S/oeaBrw0KICAgICovCiAgICBnZXRsaXZlc3RvY2tUeXBlTGlzdDogZnVuY3Rpb24gZ2V0bGl2ZXN0b2NrVHlwZUxpc3QoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwogICAgICAoMCwgX2xpdmVzdG9ja1R5cGUubGlzdExpdmVzdG9ja1R5cGUpKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5jb2RlICE9IDIwMCkgewogICAgICAgICAgcmV0dXJuIF90aGlzNi5tZXNzYWdlKCLns7vnu5/plJnor68s6K+36YeN5paw5p+l6K+iIik7CiAgICAgICAgfQogICAgICAgIF90aGlzNi5saXZlc3RvY2tUeXBlTGlzdCA9IHJlcy5yb3dzOwogICAgICAgIGNvbnNvbGUubG9nKF90aGlzNi5saXZlc3RvY2tUeXBlTGlzdCArICI9PT09PT09PT09PT0iICsgcmVzLnJvd3MpOwogICAgICB9KTsKICAgIH0sCiAgICAvKioNCiAgICAqIOiOt+WPlueJsueVnOWTgeenjeS/oeaBrw0KICAgICovCiAgICBnZXRsaXZlc3RvY2tWYXJpZXRpZXNMaXN0OiBmdW5jdGlvbiBnZXRsaXZlc3RvY2tWYXJpZXRpZXNMaXN0KCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKICAgICAgKDAsIF9saXZlc3RvY2tWYXJpZXRpZXMubGlzdExpdmVzdG9ja1ZhcmlldGllcykoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmNvZGUgIT0gMjAwKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM3Lm1lc3NhZ2UoIuezu+e7n+mUmeivryzor7fph43mlrDmn6Xor6IiKTsKICAgICAgICB9CiAgICAgICAgX3RoaXM3LmxpdmVzdG9ja1ZhcmlldGllc0xpc3QgPSByZXMucm93czsKICAgICAgICBjb25zb2xlLmxvZyhfdGhpczcubGl2ZXN0b2NrVmFyaWV0aWVzTGlzdCArICI9PT09PT09PT09PT0iICsgcmVzLnJvd3MpOwogICAgICB9KTsKICAgIH0sCiAgICAvKioNCiAgICAgICAgICAqIOi1i+WAvOmAieS4reWGnOaIt2lkDQogICAgICAgICAgKi8KICAgIHNldElkOiBmdW5jdGlvbiBzZXRJZCgpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CiAgICAgIC8vIOiOt+WPlumAieS4reeahOeUqOaIt+WvueixoQogICAgICB2YXIgc2VsZWN0ZWRVc2VyID0gdGhpcy51c2VyTGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZSA9PT0gX3RoaXM4LmZvcm0uYWdyb1VzZXJOYW1lOwogICAgICB9KTsKICAgICAgLy8g5bCG6YCJ5Lit55So5oi355qEaWTotYvlgLznu5lmb3JtLmNvZGUKICAgICAgdGhpcy5mb3JtLmFncm9Vc2VySWQgPSBzZWxlY3RlZFVzZXIgPyBzZWxlY3RlZFVzZXIuaWQgOiBudWxsOwogICAgfSwKICAgIC8qKiDlr7zlh7rmjInpkq7mk43kvZwgKi9oYW5kbGVFeHBvcnQ6IGZ1bmN0aW9uIGhhbmRsZUV4cG9ydCgpIHsKICAgICAgdGhpcy5kb3dubG9hZCgnYWdyby9saXZlc3RvY2svZXhwb3J0JywgKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKHt9LCB0aGlzLnF1ZXJ5UGFyYW1zKSwgImxpdmVzdG9ja18iLmNvbmNhdChuZXcgRGF0ZSgpLmdldFRpbWUoKSwgIi54bHN4IikpOwogICAgfSwKICAgIC8v6YGN5Y6G5YiX55qE5omA5pyJ5YaF5a6577yM6I635Y+W5pyA5a695LiA5YiX55qE5a695bqmCiAgICBnZXRNYXhMZW5ndGg6IGZ1bmN0aW9uIGdldE1heExlbmd0aChhcnIpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CiAgICAgIHJldHVybiBhcnIucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGl0ZW0pIHsKICAgICAgICBpZiAoaXRlbSkgewogICAgICAgICAgdmFyIGNhbGNMZW4gPSBfdGhpczkuZ2V0VGV4dFdpZHRoKGl0ZW0pOwogICAgICAgICAgaWYgKGFjYyA8IGNhbGNMZW4pIHsKICAgICAgICAgICAgYWNjID0gY2FsY0xlbjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFjYzsKICAgICAgfSwgMCk7CiAgICB9LAogICAgZ2V0VGV4dFdpZHRoOiBmdW5jdGlvbiBnZXRUZXh0V2lkdGgoc3RyKSB7CiAgICAgIHZhciB3aWR0aCA9IDA7CiAgICAgIHZhciBodG1sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOwogICAgICBodG1sLmlubmVyVGV4dCA9IHN0cjsKICAgICAgaHRtbC5jbGFzc05hbWUgPSAnZ2V0VGV4dFdpZHRoJzsKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmFwcGVuZENoaWxkKGh0bWwpOwogICAgICB3aWR0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nZXRUZXh0V2lkdGgnKS5vZmZzZXRXaWR0aDsKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdldFRleHRXaWR0aCcpLnJlbW92ZSgpOwogICAgICByZXR1cm4gd2lkdGg7CiAgICB9LAogICAgLyoqDQogICAgICogZWwtdGFibGUtY29sdW1uIOiHqumAguW6lOWIl+WuvQ0KICAgICAqIEBwYXJhbSBwcm9wX2xhYmVsOiDooajlkI0NCiAgICAgKiBAcGFyYW0gdGFibGVfZGF0YTog6KGo5qC85pWw5o2uDQogICAgICovCiAgICBmbGV4Q29sdW1uV2lkdGg6IGZ1bmN0aW9uIGZsZXhDb2x1bW5XaWR0aChsYWJlbCwgcHJvcCkgewogICAgICAvLyAxLuiOt+WPluivpeWIl+eahOaJgOacieaVsOaNrgogICAgICB2YXIgYXJyID0gdGhpcy5saXZlc3RvY2tMaXN0Lm1hcChmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB4W3Byb3BdOwogICAgICB9KTsKICAgICAgLy8g5oqK5q+P5YiX55qE6KGo5aS05Lmf5Yqg6L+b5Y67566XCiAgICAgIGFyci5wdXNoKGxhYmVsKTsKICAgICAgLy8gMi7orqHnrpfmr4/liJflhoXlrrnmnIDlpKfnmoTlrr3luqYgKyDooajmoLznmoTlhoXpl7Tot53vvIjkvp3mja7lrp7pmYXmg4XlhrXogIzlrprvvIkKICAgICAgcmV0dXJuIHRoaXMuZ2V0TWF4TGVuZ3RoKGFycikgKyA0MCArICdweCc7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["_livestock","require","_user","_livestockType","_livestockVarieties","name","dicts","data","livestockVarietiesList","livestockTypeList","userList","loading","ids","single","multiple","showSearch","total","livestockList","title","open","queryParams","pageNum","pageSize","agroUserName","code","iccid","xqIccid","livestockType","livestockVarieties","outDate","birthday","isInsure","station","form","rules","required","message","trigger","created","getList","getUserList","getlivestockTypeList","getlivestockVarietiesList","methods","_this","listLivestock","then","response","rows","cancel","reset","id","createBy","createTime","updateBy","updateTime","agroUserId","loanDate","loanMoney","remark","image","resetForm","handleQuery","resetQuery","handleSelectionChange","selection","map","item","length","handleAdd","handleUpdate","row","_this2","getLivestock","submitForm","_this3","$refs","validate","valid","updateLivestock","$modal","msgSuccess","addLivestock","handleDelete","_this4","confirm","delLivestock","catch","_this5","listUser","res","_this6","listLivestockType","console","log","_this7","listLivestockVarieties","setId","_this8","selectedUser","find","handleExport","download","_objectSpread2","default","concat","Date","getTime","getMaxLength","arr","_this9","reduce","acc","calcLen","getTextWidth","str","width","html","document","createElement","innerText","className","querySelector","appendChild","offsetWidth","remove","flexColumnWidth","label","prop","x","push"],"sources":["src/views/agro/livestock/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\r\n\r\n   <!--    @keyup.enter.native=\"handleQuery\" -->\r\n      <el-form-item label=\"养殖户\" prop=\"agroUserName\">\r\n        <el-select v-model=\"queryParams.agroUserName\" placeholder=\"请输入养殖户\" clearable>\r\n          <el-option\r\n            v-for=\"item in userList\"\r\n            :key=\"item.name\"\r\n            :label=\"item.name\"\r\n            :value=\"item.name\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n\r\n\r\n      <el-form-item label=\"原始耳标\" prop=\"code\">\r\n        <el-input\r\n          v-model=\"queryParams.code\"\r\n          placeholder=\"请输入原始耳标\"\r\n          clearable\r\n          @keyup.enter.native=\"handleQuery\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item label=\"设备编号\" prop=\"iccid\">\r\n        <el-input\r\n          v-model=\"queryParams.iccid\"\r\n          placeholder=\"请输入设备编号\"\r\n          clearable\r\n          @keyup.enter.native=\"handleQuery\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item label=\"项圈编号\" prop=\"xqIccid\">\r\n        <el-input\r\n          v-model=\"queryParams.xqIccid\"\r\n          placeholder=\"请输入项圈编号\"\r\n          clearable\r\n          @keyup.enter.native=\"handleQuery\"\r\n        />\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"牲畜类型\" prop=\"livestockType\">\r\n        <el-select v-model=\"queryParams.livestockType\" placeholder=\"请选择牲畜类型\" clearable>\r\n          <el-option\r\n            v-for=\"item in livestockTypeList\"\r\n            :key=\"item.livestockType\"\r\n            :label=\"item.livestockType\"\r\n            :value=\"item.livestockType\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"牲畜品种\" prop=\"livestockVarieties\">\r\n        <el-select v-model=\"queryParams.livestockVarieties\" placeholder=\"请选择牲畜品种\" clearable>\r\n          <el-option\r\n            v-for=\"item in livestockVarietiesList\"\r\n            :key=\"item.livestockVarieties\"\r\n            :label=\"item.livestockVarieties\"\r\n            :value=\"item.livestockVarieties\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <!-- <el-form-item label=\"预计出栏\" prop=\"outDate\">\r\n        <el-date-picker clearable\r\n          v-model=\"queryParams.outDate\"\r\n          type=\"date\"\r\n          value-format=\"yyyy-MM-dd\"\r\n          placeholder=\"请选择预计出栏日期\">\r\n        </el-date-picker>\r\n      </el-form-item>\r\n      <el-form-item label=\"出生日期\" prop=\"birthday\">\r\n        <el-date-picker clearable\r\n          v-model=\"queryParams.birthday\"\r\n          type=\"date\"\r\n          value-format=\"yyyy-MM-dd\"\r\n          placeholder=\"请选择出生日期\">\r\n        </el-date-picker>\r\n      </el-form-item> -->\r\n      <el-form-item label=\"是否投保\" prop=\"isInsure\">\r\n        <el-select v-model=\"queryParams.isInsure\" placeholder=\"请选择是否投保\" clearable>\r\n          <el-option\r\n            v-for=\"dict in dict.type.agro_is_insure\"\r\n            :key=\"dict.value\"\r\n            :label=\"dict.label\"\r\n            :value=\"dict.value\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"站点\" prop=\"station\">\r\n        <el-input\r\n          v-model=\"queryParams.station\"\r\n          placeholder=\"请输入站点\"\r\n          clearable\r\n          @keyup.enter.native=\"handleQuery\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\r\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <el-row :gutter=\"10\" class=\"mb8\">\r\n      <el-col :span=\"1.5\">\r\n        <el-button\r\n          type=\"primary\"\r\n          plain\r\n          icon=\"el-icon-plus\"\r\n          size=\"mini\"\r\n          @click=\"handleAdd\"\r\n          v-hasPermi=\"['agro:livestock:add']\"\r\n        >新增</el-button>\r\n      </el-col>\r\n      <el-col :span=\"1.5\">\r\n        <el-button\r\n          type=\"success\"\r\n          plain\r\n          icon=\"el-icon-edit\"\r\n          size=\"mini\"\r\n          :disabled=\"single\"\r\n          @click=\"handleUpdate\"\r\n          v-hasPermi=\"['agro:livestock:edit']\"\r\n        >修改</el-button>\r\n      </el-col>\r\n      <el-col :span=\"1.5\">\r\n        <el-button\r\n          type=\"danger\"\r\n          plain\r\n          icon=\"el-icon-delete\"\r\n          size=\"mini\"\r\n          :disabled=\"multiple\"\r\n          @click=\"handleDelete\"\r\n          v-hasPermi=\"['agro:livestock:remove']\"\r\n        >删除</el-button>\r\n      </el-col>\r\n      <el-col :span=\"1.5\">\r\n        <el-button\r\n          type=\"warning\"\r\n          plain\r\n          icon=\"el-icon-download\"\r\n          size=\"mini\"\r\n          @click=\"handleExport\"\r\n          v-hasPermi=\"['agro:livestock:export']\"\r\n        >导出</el-button>\r\n      </el-col>\r\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\r\n    </el-row>\r\n\r\n    <el-table v-loading=\"loading\" :data=\"livestockList\" \r\n     @selection-change=\"handleSelectionChange\"\r\n     border resizable  \r\n     auto-resize=\"true\" \r\n     >\r\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\r\n      <!-- <el-table-column label=\"主键id\" align=\"center\" prop=\"id\" /> -->\r\n      <el-table-column label=\"养殖户\" align=\"center\" prop=\"agroUserName\" :width=\"flexColumnWidth('养殖户','agroUserName')\"/>\r\n      <el-table-column label=\"原始耳标\" align=\"center\" prop=\"code\" :width=\"flexColumnWidth('原始耳标','code')\"/>\r\n      <el-table-column label=\"设备编号\" align=\"center\" prop=\"iccid\" :width=\"flexColumnWidth('设备编号','iccid')\"/>\r\n      <el-table-column label=\"项圈编号\" align=\"center\" prop=\"xqIccid\" :width=\"flexColumnWidth('项圈编号','xqIccid')\"/>\r\n      <el-table-column label=\"牲畜类型\" align=\"center\" prop=\"livestockType\" :width=\"flexColumnWidth('牲畜类型','livestockType')\">\r\n        <template slot-scope=\"scope\">\r\n          <dict-tag :options=\"dict.type.agro_livestock_type\" :value=\"scope.row.livestockType\"/>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"牲畜品种\" align=\"center\" prop=\"livestockVarieties\">\r\n        <template slot-scope=\"scope\">\r\n          <dict-tag :options=\"dict.type.agro_livestock_varieties\" :value=\"scope.row.livestockVarieties\"/>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"预计出栏\" align=\"center\" prop=\"outDate\" width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ parseTime(scope.row.outDate, '{y}-{m}-{d}') }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"出生日期\" align=\"center\" prop=\"birthday\" width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ parseTime(scope.row.birthday, '{y}-{m}-{d}') }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"贷款日期\" align=\"center\" prop=\"loanDate\" width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ parseTime(scope.row.loanDate, '{y}-{m}-{d}') }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"贷款金额\" align=\"center\" prop=\"loanMoney\" />\r\n      <el-table-column label=\"是否投保\" align=\"center\" prop=\"isInsure\">\r\n        <template slot-scope=\"scope\">\r\n          <dict-tag :options=\"dict.type.agro_is_insure\" :value=\"scope.row.isInsure\"/>\r\n        </template>\r\n      </el-table-column>\r\n      \r\n\r\n\r\n\r\n      <el-table-column label=\"站点\" align=\"center\" prop=\"station\" />\r\n\r\n\r\n        <el-table-column label=\"照片\" align=\"center\" prop=\"image\" width=\"100\">\r\n        <template #default=\"scope\">\r\n          <image-preview :src=\"scope.row.image\" :width=\"50\" :height=\"50\"/>\r\n        </template>\r\n      </el-table-column>\r\n      \r\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"text\"\r\n            icon=\"el-icon-edit\"\r\n            @click=\"handleUpdate(scope.row)\"\r\n            v-hasPermi=\"['agro:livestock:edit']\"\r\n          >修改</el-button>\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"text\"\r\n            icon=\"el-icon-delete\"\r\n            @click=\"handleDelete(scope.row)\"\r\n            v-hasPermi=\"['agro:livestock:remove']\"\r\n          >删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    \r\n    <pagination\r\n      v-show=\"total>0\"\r\n      :total=\"total\"\r\n      :page.sync=\"queryParams.pageNum\"\r\n      :limit.sync=\"queryParams.pageSize\"\r\n      @pagination=\"getList\"\r\n    />\r\n\r\n    <!-- 添加或修改牲畜档案管理对话框 -->\r\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"500px\" append-to-body>\r\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\r\n        <el-form-item label=\"养殖户\" prop=\"agroUserName\">\r\n           <el-select v-model=\"form.agroUserName\" filterable placeholder=\"请选择\" @change=\"setId\">\r\n            <el-option\r\n              v-for=\"item in userList\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.name\">\r\n            </el-option>\r\n          </el-select>\r\n         <!-- <el-input v-model=\"form.agroUserName\" placeholder=\"请输入养殖户\" />  -->\r\n <!-- <el-input  v-model=\"name\" placeholder=\"请选择\" :size=\"size\" :disabled=\"inpDisabled\" style=\"line-hight:40px\" class=\"input-with-select\">\r\n    <el-button slot=\"append\" :disabled=\"btnDisabled\" @click=\"showUserSelect\" icon=\"el-icon-search\"></el-button>\r\n  </el-input> -->\r\n\r\n        </el-form-item>\r\n        <el-form-item label=\"原始耳标\" prop=\"code\">\r\n          <el-input v-model=\"form.code\" placeholder=\"请输入原始耳标\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"设备编号\" prop=\"iccid\">\r\n          <el-input v-model=\"form.iccid\" placeholder=\"请输入设备编号\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"项圈编号\" prop=\"xqIccid\">\r\n          <el-input v-model=\"form.xqIccid\" placeholder=\"请输入项圈编号\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"牲畜类型\" prop=\"livestockType\">\r\n          <el-select v-model=\"form.livestockType\" placeholder=\"请选择牲畜类型\">\r\n            <el-option\r\n              v-for=\"item in livestockTypeList\"\r\n              :key=\"item.livestockType\"\r\n              :label=\"item.livestockType\"\r\n              :value=\"item.livestockType\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"牲畜品种\" prop=\"livestockVarieties\">\r\n          <el-select v-model=\"form.livestockVarieties\" placeholder=\"请选择牲畜品种\">\r\n            <el-option\r\n              v-for=\"item in livestockVarietiesList\"\r\n              :key=\"item.livestockVarieties\"\r\n              :label=\"item.livestockVarieties\"\r\n              :value=\"item.livestockVarieties\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"预计出栏\" prop=\"outDate\">\r\n          <el-date-picker clearable\r\n            v-model=\"form.outDate\"\r\n            type=\"date\"\r\n            value-format=\"yyyy-MM-dd\"\r\n            placeholder=\"请选择预计出栏日期\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"出生日期\" prop=\"birthday\">\r\n          <el-date-picker clearable\r\n            v-model=\"form.birthday\"\r\n            type=\"date\"\r\n            value-format=\"yyyy-MM-dd\"\r\n            placeholder=\"请选择出生日期\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"贷款日期\" prop=\"loanDate\">\r\n          <el-date-picker clearable\r\n            v-model=\"form.loanDate\"\r\n            type=\"date\"\r\n            value-format=\"yyyy-MM-dd\"\r\n            placeholder=\"请选择贷款日期\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"贷款金额\" prop=\"loanMoney\">\r\n          <el-input v-model=\"form.loanMoney\" placeholder=\"请输入贷款金额\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"是否投保\" prop=\"isInsure\">\r\n          <el-radio-group v-model=\"form.isInsure\">\r\n            <el-radio\r\n              v-for=\"dict in dict.type.agro_is_insure\"\r\n              :key=\"dict.value\"\r\n              :label=\"dict.value\"\r\n            >{{dict.label}}</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"站点\" prop=\"station\">\r\n          <el-input v-model=\"form.station\" placeholder=\"请输入站点\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"备注\" prop=\"remark\">\r\n          <el-input v-model=\"form.remark\" placeholder=\"请输入备注\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"照片\" prop=\"image\">\r\n          <image-upload v-model=\"form.image\"/>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\r\n        <el-button @click=\"cancel\">取 消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { listLivestock, getLivestock, delLivestock, addLivestock, updateLivestock } from \"@/api/agro/livestock\";\r\nimport { listUser} from \"@/api/agro/user\";\r\nimport { listLivestockType} from \"@/api/agro/livestockType\";\r\nimport { listLivestockVarieties} from \"@/api/agro/livestockVarieties\";\r\n\r\nexport default {\r\n  name: \"Livestock\",\r\n  dicts: ['agro_livestock_varieties', 'agro_livestock_type', 'agro_is_insure'],\r\n  data() {\r\n    return {\r\n      //牲畜品种集合\r\n      livestockVarietiesList:[],\r\n\r\n      //牲畜类型集合\r\n      livestockTypeList:[],\r\n      userList: [],\r\n      // 遮罩层\r\n      loading: true,\r\n      // 选中数组\r\n      ids: [],\r\n      // 非单个禁用\r\n      single: true,\r\n      // 非多个禁用\r\n      multiple: true,\r\n      // 显示搜索条件\r\n      showSearch: true,\r\n      // 总条数\r\n      total: 0,\r\n      // 牲畜档案管理表格数据\r\n      livestockList: [],\r\n      // 弹出层标题\r\n      title: \"\",\r\n      // 是否显示弹出层\r\n      open: false,\r\n      // 查询参数\r\n      queryParams: {\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        agroUserName: null,\r\n        code: null,\r\n        iccid: null,\r\n        xqIccid: null,\r\n        livestockType: null,\r\n        livestockVarieties: null,\r\n        outDate: null,\r\n        birthday: null,\r\n        isInsure: null,\r\n        station: null,\r\n      },\r\n      // 表单参数\r\n      form: {},\r\n      // 表单校验\r\n      rules: {\r\n        agroUserName: [\r\n          { required: true, message: \"养殖户不能为空\", trigger: \"blur\" }\r\n        ],\r\n        code: [\r\n          { required: true, message: \"原始耳标不能为空\", trigger: \"blur\" }\r\n        ],\r\n        iccid: [\r\n          { required: true, message: \"设备编号不能为空\", trigger: \"blur\" }\r\n        ],\r\n        livestockType: [\r\n          { required: true, message: \"牲畜类型不能为空\", trigger: \"change\" }\r\n        ],\r\n        livestockVarieties: [\r\n          { required: true, message: \"牲畜品种不能为空\", trigger: \"change\" }\r\n        ],\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.getList();\r\n    this.getUserList();\r\n    this.getlivestockTypeList();\r\n    this.getlivestockVarietiesList();\r\n  },\r\n  methods: {\r\n    /** 查询牲畜档案管理列表 */\r\n    getList() {\r\n      this.loading = true;\r\n      listLivestock(this.queryParams).then(response => {\r\n        this.livestockList = response.rows;\r\n        this.total = response.total;\r\n        this.loading = false;\r\n      });\r\n    },\r\n    // 取消按钮\r\n    cancel() {\r\n      this.open = false;\r\n      this.reset();\r\n    },\r\n    // 表单重置\r\n    reset() {\r\n      this.form = {\r\n        id: null,\r\n        createBy: null,\r\n        createTime: null,\r\n        updateBy: null,\r\n        updateTime: null,\r\n        agroUserId: null,\r\n        agroUserName: null,\r\n        code: null,\r\n        iccid: null,\r\n        xqIccid: null,\r\n        livestockType: null,\r\n        livestockVarieties: null,\r\n        outDate: null,\r\n        birthday: null,\r\n        loanDate: null,\r\n        loanMoney: null,\r\n        isInsure: null,\r\n        station: null,\r\n        remark: null,\r\n        image: null\r\n      };\r\n      this.resetForm(\"form\");\r\n    },\r\n    /** 搜索按钮操作 */\r\n    handleQuery() {\r\n      this.queryParams.pageNum = 1;\r\n      this.getList();\r\n    },\r\n    /** 重置按钮操作 */\r\n    resetQuery() {\r\n      this.resetForm(\"queryForm\");\r\n      this.handleQuery();\r\n    },\r\n    // 多选框选中数据\r\n    handleSelectionChange(selection) {\r\n      this.ids = selection.map(item => item.id)\r\n      this.single = selection.length!==1\r\n      this.multiple = !selection.length\r\n    },\r\n    /** 新增按钮操作 */\r\n    handleAdd() {\r\n      this.reset();\r\n      this.open = true;\r\n      this.title = \"添加牲畜档案管理\";\r\n    },\r\n    /** 修改按钮操作 */\r\n    handleUpdate(row) {\r\n      this.reset();\r\n      const id = row.id || this.ids\r\n      getLivestock(id).then(response => {\r\n        this.form = response.data;\r\n        this.open = true;\r\n        this.title = \"修改牲畜档案管理\";\r\n      });\r\n    },\r\n    /** 提交按钮 */\r\n    submitForm() {\r\n      this.$refs[\"form\"].validate(valid => {\r\n        if (valid) {\r\n          if (this.form.id != null) {\r\n            updateLivestock(this.form).then(response => {\r\n              this.$modal.msgSuccess(\"修改成功\");\r\n              this.open = false;\r\n              this.getList();\r\n            });\r\n          } else {\r\n            addLivestock(this.form).then(response => {\r\n              this.$modal.msgSuccess(\"新增成功\");\r\n              this.open = false;\r\n              this.getList();\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    /** 删除按钮操作 */\r\n    handleDelete(row) {\r\n      const ids = row.id || this.ids;\r\n      this.$modal.confirm('是否确认删除牲畜档案管理编号为\"' + ids + '\"的数据项？').then(function() {\r\n        return delLivestock(ids);\r\n      }).then(() => {\r\n        this.getList();\r\n        this.$modal.msgSuccess(\"删除成功\");\r\n      }).catch(() => {});\r\n    },\r\n         /**\r\n          * 获取农户信息\r\n          */\r\n        getUserList(){\r\n        listUser().then( res => {\r\n            if( res.code != 200){ return this.message(\"系统错误,请重新查询\") }\r\n          this.userList = res.rows\r\n          // console.log(this.userLis+\"============\"+ res.rows);\r\n              }\r\n              )\r\n    },\r\n             /**\r\n          * 获取牲畜类型信息\r\n          */\r\n        getlivestockTypeList(){\r\n        listLivestockType().then( res => {\r\n            if( res.code != 200){ return this.message(\"系统错误,请重新查询\") }\r\n          this.livestockTypeList = res.rows\r\n          console.log(this.livestockTypeList+\"============\"+ res.rows);\r\n              }\r\n              )\r\n    },\r\n           /**\r\n          * 获取牲畜品种信息\r\n          */\r\n        getlivestockVarietiesList(){\r\n          listLivestockVarieties().then( res => {\r\n            if( res.code != 200){ return this.message(\"系统错误,请重新查询\") }\r\n          this.livestockVarietiesList = res.rows\r\n          console.log(this.livestockVarietiesList+\"============\"+ res.rows);\r\n              }\r\n              )\r\n    },\r\n\r\n    /**\r\n          * 赋值选中农户id\r\n          */\r\n    setId() {\r\n    // 获取选中的用户对象\r\n    const selectedUser = this.userList.find(item => item.name === this.form.agroUserName)\r\n    // 将选中用户的id赋值给form.code\r\n    this.form.agroUserId = selectedUser ? selectedUser.id : null\r\n  },\r\n    /** 导出按钮操作 */\r\n    handleExport() {\r\n      this.download('agro/livestock/export', {\r\n        ...this.queryParams\r\n      }, `livestock_${new Date().getTime()}.xlsx`)\r\n    },\r\n     //遍历列的所有内容，获取最宽一列的宽度\r\ngetMaxLength (arr) {\r\n  return arr.reduce((acc, item) => {\r\n    if (item) {\r\n      const calcLen = this.getTextWidth(item)\r\n      if (acc < calcLen) {\r\n        acc = calcLen\r\n      }\r\n    }\r\n    return acc\r\n  }, 0)\r\n},\r\n\r\ngetTextWidth (str) {\r\n  let width = 0\r\n  const html = document.createElement('span')\r\n  html.innerText = str\r\n  html.className = 'getTextWidth'\r\n  document.querySelector('body').appendChild(html)\r\n  width = document.querySelector('.getTextWidth').offsetWidth\r\n  document.querySelector('.getTextWidth').remove()\r\n  return width\r\n},\r\n/**\r\n * el-table-column 自适应列宽\r\n * @param prop_label: 表名\r\n * @param table_data: 表格数据\r\n */\r\nflexColumnWidth (label, prop) {\r\n// 1.获取该列的所有数据\r\n  const arr = this.livestockList.map(x => x[prop])\r\n// 把每列的表头也加进去算\r\n  arr.push(label) \r\n// 2.计算每列内容最大的宽度 + 表格的内间距（依据实际情况而定）\r\n  return (this.getMaxLength(arr) + 40) + 'px'\r\n    },\r\n\r\n\r\n\r\n    \r\n  }\r\n};\r\n</script>\r\n"],"mappings":"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","ignoreList":[]}]}